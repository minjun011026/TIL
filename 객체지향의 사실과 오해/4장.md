# 4장
객체지향 설계의 전체적인 품질을 결정하는 것은 개별 객체의 품질이 아니라 여러 객체들이 모여 이뤄내는 협력의 품질이다.

## 협력
### 책임의 분류
책임은 객체에 의해 정의되는 응집도 있는 행위의 집합으로   
+ 객체가 무엇을 알고 있는가
+ 객체가 무엇을 할 수 있는가   

로 구성된다.

크레이그 라만은 이러한 분류에 따라 객체의 책임을 크게 '하는 것'과 '아는 것'의 두 가지 범주로 자세히 분류하고 있다.
+ 하는 것
  + 객체를 생성하거나 계산을 하는 등의 스스로 하는 것
  + 다른 객체의 행동을 시작시키는 것
  + 다른 객체의 활동을 제어하고 조절하는 것
+ 아는 것
  + 개인적인 정보에 관해 아는 것
  + 관련된 객체에 관해 아는 것
  + 자신이 유도하거나 계산할 수 있는 것에 관해 아는 것

책임은 객체의 외부에 제공해 줄 수 있는 정보(아는 것의 측면)와 외부에 제공해 줄 수 있는 서비스(하는 것의 측면)의 목록이다.

따라서 책임은 객체의 **공용 인터페이스**를 구성한다.

객체지향 설계는 협력에 참여하기 위해 어떤 객체가 어떤 책임을 수행해야 하고 어떤 객체로부터 메시지를 수신할 것인지를 결정하는 것으로부터 시작된다.   
어떤 클래스가 필요하고 어떤 메서드를 포함해야 하는지를 결정하는 것은 책임와 메시지에 대한 대략적인 윤곽을 잡은 후에 시작해도 늦지 않다.

## 역할
역할은 협력 내에서 다른 객체로 대체할 수 있음을 나타내는 일종의 표식이다.

역할의 개념을 사용하면 유사한 협력을 추상화해서 인지 과부하를 줄일 수 있다.   
또한 다양한 객체들이 협력에 참여할 수 있기 때문에 협력이 좀 더 유연해지며 다양한 객체들이 동일한 협력에 참여할 수 있기 때문에 재사용성이 높아진다.

역할은 객체지향 설계의 **단순성**, **유연성**, **재사용성**을 뒷받침하는 핵심 개념이라고 한다.

### 협력의 추상화
역할의 가장 큰 가치는 하나의 협력 안에 여러 종류의 객체가 참여할 수 있게 함으로써 협력을 추상화할 수 있다는 것이다.

### 협력을 따라 흐르는 객체의 책임
+ 올바른 객체를 설계하기 위해서는 먼저 견고하고 깔끔한 협력을 설계해야 한다.
+ 협력이라는 문맥에서 객체가 수행하게 될 적절한 책임, 즉 행동을 결정한 후에 그 행동을 수행하는데 필요한 데이터를 고민해야 한다.
+ 객체가 협력에 참여하기 위해 필요한 데이터와 행동이 어느 정도 결정된 후에 클래스의 구현 방법을 결정해야 한다.

결과적으로 클래스와 데이터는 협력과 책임의 집합이 결정된 가장 마지막에 등장해야하는 것이다.

